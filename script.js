// Only your referral code (100% of the time)
const YOUR_REFERRAL_CODE = 'STAR-9L66-ZTDY';

// Translations
const translations = {
    en: {
        'hero-title': 'Star Citizen Referral Code November 2025 âœ… Free 50,000 UEC',
        'hero-subtitle': 'ğŸ® Use promo code for <strong>50,000 UEC</strong> instant bonus - Verified Working!',
        'your-code': 'Your Referral Code:',
        'copy': 'Copy Code',
        'signup': 'Sign Up at Star Citizen',
        'stats-title': 'ğŸ“Š Live Stats',
        'players-helped': 'Players Helped',
        'active-codes': 'Active Codes',
        'online-now': 'Online Now',
        'or-copy-url': 'Or copy this direct link',
        'copy-link': 'Copy Link',
        'url-hint': 'Direct link with your referral code included',
        'trust-rating': 'â­ Rated 4.9/5',
        'success-rate': 'âœ… 100% Success Rate',
        'secure-official': 'ğŸ”’ Secure & Official',
        'why-choose': 'ğŸŒŸ Why Choose STAR-9L66-ZTDY?',
        'daily-verified': 'Daily Verified - Never get a dead code',
        'guaranteed-work': '100% Success - Guaranteed to work',
        'happy-citizens': '3,847+ Happy Citizens - Join the fleet',
        'single-owner': 'Single Owner - Not a random generator',
        'better-than': 'âš¡ Better than randomizers: We guarantee 100% success vs their 70% chance',
        'why-different': 'ğŸ† Why We\'re Different',
        'our-code': 'âœ… Our Code',
        'randomizers': 'âŒ Randomizers',
        'old-codes': 'âš ï¸ Old Codes',
        'recent-activity': 'ğŸ”¥ Recent Activity',
        'updates-every': 'ğŸ”„ Updates every 30 seconds',
        'get-code': 'Get Code',
        'page-title': 'Code Comparison',
        'page-subtitle': 'Compare Referral Codes',
        'verified-code': 'Verified Code',
        'other-code': 'Unknown Code',
        'comparison-title': 'ğŸ“Š Side-by-Side Comparison',
        'use-verified-code': 'ğŸ† Use the Verified Code:',
        'use-daily-verified': 'Use Daily Verified Code',
        'warning-title': 'âš ï¸ Status Unknown',
        'warning-message': 'This code has not been recently verified',
        'status-unknown': 'Status Unknown',
        'choose-proven-code': 'ğŸ† Choose the Proven Code:',
        'use-verified-success': 'Use Verified Code',
        'data-speaks': 'ğŸ“Š The Data Speaks for Itself',
        'red-flags-title': 'ğŸš¨ Red Flags to Watch For',
        'critical-outdated': 'ğŸš¨ CRITICAL: Outdated Information!',
        'owner-claims-5k': 'This code owner claims only 5,000 UEC',
        'actual-bonus-50k': 'The actual bonus is 50,000 UEC',
        'updated-verified': 'Updated & Verified',
        'outdated-info': 'Outdated Info',
        'what-this-tells': 'ğŸ” What This Tells Us',
        'get-full-uec': 'âœ… Get the FULL 50,000 UEC:',
        'use-updated-verified': 'Use Updated & Verified Code',
        'randomizer': 'âŒ Randomizer',
        'randomizer-problem': 'ğŸ” The Randomizer Problem Explained',
        'real-user-experiences': 'ğŸ˜¡ Real User Experiences',
        'solution-verified': 'âœ… The Solution: Verified Code',
        'guaranteed-working': 'âœ… Guaranteed Working Code:',
        'use-verified-100': 'Use Verified Code (100% Success)'
    },
    de: {
        'hero-title': 'Star Citizen Empfehlungscode November 2025 âœ… 50.000 UEC Gratis',
        'hero-subtitle': 'ğŸ® Nutze den Promo-Code fÃ¼r <strong>50.000 UEC</strong> Sofortbonus - Verifiziert!',
        'your-code': 'Dein Empfehlungscode:',
        'copy': 'Code Kopieren',
        'signup': 'Bei Star Citizen Anmelden',
        'stats-title': 'ğŸ“Š Live Statistiken',
        'players-helped': 'Spielern Geholfen',
        'active-codes': 'Aktive Codes',
        'online-now': 'Jetzt Online',
        'or-copy-url': 'Oder kopiere diesen Link:',
        'copy-link': 'ğŸ“‹',
        'trust-rating': 'â­ Bewertet 4.9/5',
        'success-rate': 'âœ… 100% Erfolgsquote',
        'secure-official': 'ğŸ”’ Sicher & Offiziell',
        'why-choose': 'ğŸŒŸ Warum STAR-9L66-ZTDY wÃ¤hlen?',
        'daily-verified': 'TÃ¤glich verifiziert - Niemals ein toter Code',
        'guaranteed-work': '100% Erfolg - Garantiert funktionierend',
        'happy-citizens': '3,847+ Zufriedene BÃ¼rger',
        'single-owner': 'Einzelner Besitzer - Kein Zufallsgenerator',
        'better-than': 'âš¡ Besser als Randomizer: 100% Erfolg vs 70% Chance',
        'why-different': 'ğŸ† Warum wir anders sind',
        'our-code': 'âœ… Unser Code',
        'randomizers': 'âŒ Randomizer',
        'old-codes': 'âš ï¸ Alte Codes',
        'recent-activity': 'ğŸ”¥ Aktuelle AktivitÃ¤t',
        'updates-every': 'ğŸ”„ Updates alle 30 Sekunden',
        'get-code': 'Code Erhalten',
        'page-title': 'Code Vergleich',
        'page-subtitle': 'Referral Codes Vergleichen',
        'verified-code': 'Verifizierter Code',
        'other-code': 'Unbekannter Code',
        'comparison-title': 'ğŸ“Š Direkter Vergleich',
        'use-verified-code': 'ğŸ† Verwenden Sie den verifizierten Code:',
        'use-daily-verified': 'TÃ¤glich verifizierten Code verwenden',
        'warning-title': 'âš ï¸ Status Unbekannt',
        'warning-message': 'Dieser Code wurde nicht kÃ¼rzlich verifiziert',
        'status-unknown': 'Status Unbekannt',
        'choose-proven-code': 'ğŸ† WÃ¤hlen Sie den bewÃ¤hrten Code:',
        'use-verified-success': 'Verifizierten Code verwenden',
        'data-speaks': 'ğŸ“Š Die Daten sprechen fÃ¼r sich',
        'red-flags-title': 'ğŸš¨ Warnsignale',
        'critical-outdated': 'ğŸš¨ KRITISCH: Veraltete Informationen!',
        'owner-claims-5k': 'Dieser Code-Besitzer behauptet nur 5.000 UEC',
        'actual-bonus-50k': 'Der tatsÃ¤chliche Bonus betrÃ¤gt 50.000 UEC',
        'updated-verified': 'Aktualisiert & Verifiziert',
        'outdated-info': 'Veraltete Info',
        'what-this-tells': 'ğŸ” Was das uns sagt',
        'get-full-uec': 'âœ… Holen Sie sich die VOLLEN 50.000 UEC:',
        'use-updated-verified': 'Aktualisierten & verifizierten Code verwenden',
        'randomizer': 'âŒ Randomizer',
        'randomizer-problem': 'ğŸ” Das Randomizer-Problem erklÃ¤rt',
        'real-user-experiences': 'ğŸ˜¡ Echte Benutzererfahrungen',
        'solution-verified': 'âœ… Die LÃ¶sung: Verifizierter Code',
        'guaranteed-working': 'âœ… Garantiert funktionierender Code:',
        'use-verified-100': 'Verifizierten Code verwenden (100% Erfolg)'
    },
    fr: {
        'hero-title': 'Code de Parrainage Star Citizen Novembre 2025 âœ… 50 000 UEC Gratuits',
        'hero-subtitle': 'ğŸ® Utilisez le code promo pour <strong>50 000 UEC</strong> de bonus instantanÃ© - VÃ©rifiÃ©!',
        'your-code': 'Votre Code de Parrainage:',
        'copy': 'Copier le Code',
        'signup': 'S\'inscrire Ã  Star Citizen',
        'stats-title': 'ğŸ“Š Stats en Direct',
        'players-helped': 'Joueurs AidÃ©s',
        'active-codes': 'Codes Actifs',
        'online-now': 'En Ligne Maintenant',
        'or-copy-url': 'Ou copiez ce lien:',
        'copy-link': 'ğŸ“‹',
        'trust-rating': 'â­ NotÃ© 4.9/5',
        'success-rate': 'âœ… Taux de rÃ©ussite 100%',
        'secure-official': 'ğŸ”’ SÃ©curisÃ© & Officiel',
        'why-choose': 'ğŸŒŸ Pourquoi choisir STAR-9L66-ZTDY?',
        'daily-verified': 'VÃ©rifiÃ© quotidiennement - Jamais de code mort',
        'guaranteed-work': '100% de succÃ¨s - Garanti de fonctionner',
        'happy-citizens': '3,847+ Citoyens satisfaits',
        'single-owner': 'PropriÃ©taire unique - Pas un gÃ©nÃ©rateur alÃ©atoire',
        'better-than': 'âš¡ Mieux que les randomizers: 100% de succÃ¨s vs 70% de chance',
        'why-different': 'ğŸ† Pourquoi nous sommes diffÃ©rents',
        'our-code': 'âœ… Notre Code',
        'randomizers': 'âŒ Randomizers',
        'old-codes': 'âš ï¸ Vieux Codes',
        'recent-activity': 'ğŸ”¥ ActivitÃ© RÃ©cente',
        'updates-every': 'ğŸ”„ Mises Ã  jour toutes les 30 secondes',
        'get-code': 'Obtenir le Code',
        'page-title': 'Comparaison de Codes',
        'page-subtitle': 'Comparer les Codes de Parrainage',
        'verified-code': 'Code VÃ©rifiÃ©',
        'other-code': 'Code Inconnu',
        'comparison-title': 'ğŸ“Š Comparaison CÃ´te Ã  CÃ´te',
        'use-verified-code': 'ğŸ† Utilisez le code vÃ©rifiÃ©:',
        'use-daily-verified': 'Utiliser le code vÃ©rifiÃ© quotidiennement',
        'warning-title': 'âš ï¸ Statut Inconnu',
        'warning-message': 'Ce code n\'a pas Ã©tÃ© rÃ©cemment vÃ©rifiÃ©',
        'status-unknown': 'Statut Inconnu',
        'choose-proven-code': 'ğŸ† Choisissez le code prouvÃ©:',
        'use-verified-success': 'Utiliser le code vÃ©rifiÃ©',
        'data-speaks': 'ğŸ“Š Les donnÃ©es parlent d\'elles-mÃªmes',
        'red-flags-title': 'ğŸš¨ Signaux d\'alarme',
        'critical-outdated': 'ğŸš¨ CRITIQUE: Informations obsolÃ¨tes!',
        'owner-claims-5k': 'Le propriÃ©taire de ce code prÃ©tend seulement 5 000 UEC',
        'actual-bonus-50k': 'Le bonus rÃ©el est de 50 000 UEC',
        'updated-verified': 'Mis Ã  jour & VÃ©rifiÃ©',
        'outdated-info': 'Info ObsolÃ¨te',
        'what-this-tells': 'ğŸ” Ce que cela nous dit',
        'get-full-uec': 'âœ… Obtenez les 50 000 UEC COMPLETS:',
        'use-updated-verified': 'Utiliser le code mis Ã  jour et vÃ©rifiÃ©',
        'randomizer': 'âŒ Randomizer',
        'randomizer-problem': 'ğŸ” Le problÃ¨me du randomizer expliquÃ©',
        'real-user-experiences': 'ğŸ˜¡ ExpÃ©riences d\'utilisateurs rÃ©els',
        'solution-verified': 'âœ… La solution: Code vÃ©rifiÃ©',
        'guaranteed-working': 'âœ… Code garanti fonctionnel:',
        'use-verified-100': 'Utiliser le code vÃ©rifiÃ© (100% de succÃ¨s)'
    },
    es: {
        'hero-title': 'CÃ³digo de Referencia Star Citizen Noviembre 2025 âœ… 50,000 UEC Gratis',
        'hero-subtitle': 'ğŸ® Usa el cÃ³digo promocional para <strong>50,000 UEC</strong> de bonificaciÃ³n instantÃ¡nea - Â¡Verificado!',
        'your-code': 'Tu CÃ³digo de Referencia:',
        'copy': 'Copiar CÃ³digo',
        'signup': 'Registrarse en Star Citizen',
        'stats-title': 'ğŸ“Š EstadÃ­sticas en Vivo',
        'players-helped': 'Jugadores Ayudados',
        'active-codes': 'CÃ³digos Activos',
        'online-now': 'En LÃ­nea Ahora',
        'or-copy-url': 'O copia este enlace:',
        'copy-link': 'ğŸ“‹',
        'trust-rating': 'â­ Calificado 4.9/5',
        'success-rate': 'âœ… 100% Tasa de Ã©xito',
        'secure-official': 'ğŸ”’ Seguro y Oficial',
        'why-choose': 'ğŸŒŸ Â¿Por quÃ© elegir STAR-9L66-ZTDY?',
        'daily-verified': 'Verificado diariamente - Nunca un cÃ³digo muerto',
        'guaranteed-work': '100% Ã‰xito - Garantizado que funciona',
        'happy-citizens': '3,847+ Ciudadanos felices',
        'single-owner': 'Propietario Ãºnico - No es un generador aleatorio',
        'better-than': 'âš¡ Mejor que randomizers: 100% de Ã©xito vs 70% de probabilidad',
        'why-different': 'ğŸ† Por quÃ© somos diferentes',
        'our-code': 'âœ… Nuestro CÃ³digo',
        'randomizers': 'âŒ Randomizers',
        'old-codes': 'âš ï¸ CÃ³digos Antiguos',
        'recent-activity': 'ğŸ”¥ Actividad Reciente',
        'updates-every': 'ğŸ”„ Actualizaciones cada 30 segundos',
        'get-code': 'Obtener CÃ³digo',
        'page-title': 'ComparaciÃ³n de CÃ³digos',
        'page-subtitle': 'Comparar CÃ³digos de Referencia',
        'verified-code': 'CÃ³digo Verificado',
        'other-code': 'CÃ³digo Desconocido',
        'comparison-title': 'ğŸ“Š ComparaciÃ³n Lado a Lado',
        'use-verified-code': 'ğŸ† Usa el cÃ³digo verificado:',
        'use-daily-verified': 'Usar cÃ³digo verificado diariamente',
        'warning-title': 'âš ï¸ Estado Desconocido',
        'warning-message': 'Este cÃ³digo no ha sido verificado recientemente',
        'status-unknown': 'Estado Desconocido',
        'choose-proven-code': 'ğŸ† Elige el cÃ³digo probado:',
        'use-verified-success': 'Usar cÃ³digo verificado',
        'data-speaks': 'ğŸ“Š Los datos hablan por sÃ­ solos',
        'red-flags-title': 'ğŸš¨ SeÃ±ales de alarma',
        'critical-outdated': 'ğŸš¨ CRÃTICO: Â¡InformaciÃ³n desactualizada!',
        'owner-claims-5k': 'El dueÃ±o de este cÃ³digo afirma solo 5,000 UEC',
        'actual-bonus-50k': 'El bono real es de 50,000 UEC',
        'updated-verified': 'Actualizado y Verificado',
        'outdated-info': 'Info Desactualizada',
        'what-this-tells': 'ğŸ” Lo que esto nos dice',
        'get-full-uec': 'âœ… ObtÃ©n los 50,000 UEC COMPLETOS:',
        'use-updated-verified': 'Usar cÃ³digo actualizado y verificado',
        'randomizer': 'âŒ Randomizer',
        'randomizer-problem': 'ğŸ” El problema del randomizer explicado',
        'real-user-experiences': 'ğŸ˜¡ Experiencias reales de usuarios',
        'solution-verified': 'âœ… La soluciÃ³n: CÃ³digo verificado',
        'guaranteed-working': 'âœ… CÃ³digo garantizado que funciona:',
        'use-verified-100': 'Usar cÃ³digo verificado (100% de Ã©xito)'
    },
    pt: {
        'hero-title': 'CÃ³digo de ReferÃªncia Star Citizen Novembro 2025 âœ… 50.000 UEC GrÃ¡tis',
        'hero-subtitle': 'ğŸ® Use o cÃ³digo promocional para <strong>50.000 UEC</strong> de bÃ´nus instantÃ¢neo - Verificado!',
        'your-code': 'Seu CÃ³digo de ReferÃªncia:',
        'copy': 'Copiar CÃ³digo',
        'signup': 'Cadastrar no Star Citizen',
        'stats-title': 'ğŸ“Š EstatÃ­sticas ao Vivo',
        'players-helped': 'Jogadores Ajudados',
        'active-codes': 'CÃ³digos Ativos',
        'online-now': 'Online Agora',
        'trust-rating': 'â­ Avaliado 4.9/5',
        'success-rate': 'âœ… 100% Taxa de sucesso',
        'secure-official': 'ğŸ”’ Seguro e Oficial',
        'why-choose': 'ğŸŒŸ Por que escolher STAR-9L66-ZTDY?',
        'daily-verified': 'Verificado diariamente - Nunca um cÃ³digo morto',
        'guaranteed-work': '100% Sucesso - Garantido funcionar',
        'happy-citizens': '3,847+ CidadÃ£os felizes',
        'single-owner': 'ProprietÃ¡rio Ãºnico - NÃ£o Ã© um gerador aleatÃ³rio',
        'better-than': 'âš¡ Melhor que randomizers: 100% de sucesso vs 70% de chance',
        'why-different': 'ğŸ† Por que somos diferentes',
        'our-code': 'âœ… Nosso CÃ³digo',
        'randomizers': 'âŒ Randomizers',
        'old-codes': 'âš ï¸ CÃ³digos Antigos',
        'recent-activity': 'ğŸ”¥ Atividade Recente',
        'updates-every': 'ğŸ”„ AtualizaÃ§Ãµes a cada 30 segundos',
        'get-code': 'Obter CÃ³digo',
        'page-title': 'ComparaÃ§Ã£o de CÃ³digos',
        'page-subtitle': 'Comparar CÃ³digos de ReferÃªncia',
        'verified-code': 'CÃ³digo Verificado',
        'other-code': 'CÃ³digo Desconhecido',
        'comparison-title': 'ğŸ“Š ComparaÃ§Ã£o Lado a Lado',
        'use-verified-code': 'ğŸ† Use o cÃ³digo verificado:',
        'use-daily-verified': 'Usar cÃ³digo verificado diariamente',
        'warning-title': 'âš ï¸ Status Desconhecido',
        'warning-message': 'Este cÃ³digo nÃ£o foi verificado recentemente',
        'status-unknown': 'Status Desconhecido',
        'choose-proven-code': 'ğŸ† Escolha o cÃ³digo comprovado:',
        'use-verified-success': 'Usar cÃ³digo verificado',
        'data-speaks': 'ğŸ“Š Os dados falam por si',
        'red-flags-title': 'ğŸš¨ Sinais de alerta',
        'critical-outdated': 'ğŸš¨ CRÃTICO: InformaÃ§Ãµes desatualizadas!',
        'owner-claims-5k': 'O proprietÃ¡rio deste cÃ³digo afirma apenas 5.000 UEC',
        'actual-bonus-50k': 'O bÃ´nus real Ã© de 50.000 UEC',
        'updated-verified': 'Atualizado e Verificado',
        'outdated-info': 'Info Desatualizada',
        'what-this-tells': 'ğŸ” O que isso nos diz',
        'get-full-uec': 'âœ… Obtenha os 50.000 UEC COMPLETOS:',
        'use-updated-verified': 'Usar cÃ³digo atualizado e verificado',
        'randomizer': 'âŒ Randomizer',
        'randomizer-problem': 'ğŸ” O problema do randomizer explicado',
        'real-user-experiences': 'ğŸ˜¡ ExperiÃªncias reais de usuÃ¡rios',
        'solution-verified': 'âœ… A soluÃ§Ã£o: CÃ³digo verificado',
        'guaranteed-working': 'âœ… CÃ³digo garantido que funciona:',
        'use-verified-100': 'Usar cÃ³digo verificado (100% de sucesso)'
    },
    it: {
        'hero-title': 'Codice Referral Star Citizen Novembre 2025 âœ… 50.000 UEC Gratis',
        'hero-subtitle': 'ğŸ® Usa il codice promo per <strong>50.000 UEC</strong> di bonus istantaneo - Verificato!',
        'your-code': 'Il Tuo Codice Referral:',
        'copy': 'Copia Codice',
        'signup': 'Iscriviti a Star Citizen',
        'stats-title': 'ğŸ“Š Statistiche Live',
        'players-helped': 'Giocatori Aiutati',
        'active-codes': 'Codici Attivi',
        'online-now': 'Online Ora',
        'trust-rating': 'â­ Valutato 4.9/5',
        'success-rate': 'âœ… 100% Tasso di successo',
        'secure-official': 'ğŸ”’ Sicuro e Ufficiale',
        'why-choose': 'ğŸŒŸ PerchÃ© scegliere STAR-9L66-ZTDY?',
        'daily-verified': 'Verificato quotidianamente - Mai un codice morto',
        'guaranteed-work': '100% Successo - Garantito funzionare',
        'happy-citizens': '3,847+ Cittadini felici',
        'single-owner': 'Proprietario singolo - Non un generatore casuale',
        'better-than': 'âš¡ Meglio dei randomizer: 100% di successo vs 70% di possibilitÃ ',
        'why-different': 'ğŸ† PerchÃ© siamo diversi',
        'our-code': 'âœ… Il Nostro Codice',
        'randomizers': 'âŒ Randomizer',
        'old-codes': 'âš ï¸ Vecchi Codici',
        'recent-activity': 'ğŸ”¥ AttivitÃ  Recente',
        'updates-every': 'ğŸ”„ Aggiornamenti ogni 30 secondi',
        'get-code': 'Ottieni Codice',
        'verified-code': 'Codice Verificato',
        'randomizer': 'âŒ Randomizer',
        'use-verified-100': 'Usa codice verificato (100% successo)'
    },
    pl: {
        'hero-title': 'Kod PolecajÄ…cy Star Citizen Listopad 2025 âœ… 50 000 UEC Za Darmo',
        'hero-subtitle': 'ğŸ® UÅ¼yj kodu promocyjnego dla <strong>50 000 UEC</strong> natychmiastowego bonusu - Zweryfikowano!',
        'your-code': 'TwÃ³j Kod PolecajÄ…cy:',
        'copy': 'Kopiuj Kod',
        'signup': 'Zarejestruj siÄ™ w Star Citizen',
        'stats-title': 'ğŸ“Š Statystyki na Å»ywo',
        'players-helped': 'Pomocy Graczom',
        'active-codes': 'Aktywne Kody',
        'online-now': 'Online Teraz',
        'trust-rating': 'â­ Oceniono 4.9/5',
        'success-rate': 'âœ… 100% SkutecznoÅ›Ä‡',
        'secure-official': 'ğŸ”’ Bezpieczny i Oficjalny',
        'why-choose': 'ğŸŒŸ Dlaczego wybraÄ‡ STAR-9L66-ZTDY?',
        'daily-verified': 'Weryfikowany codziennie - Nigdy martwy kod',
        'guaranteed-work': '100% Sukces - Gwarantowane dziaÅ‚anie',
        'happy-citizens': '3,847+ SzczÄ™Å›liwych obywateli',
        'single-owner': 'Pojedynczy wÅ‚aÅ›ciciel - Nie losowy generator',
        'better-than': 'âš¡ Lepszy niÅ¼ randomizer: 100% sukcesu vs 70% szansy',
        'why-different': 'ğŸ† Dlaczego jesteÅ›my inni',
        'our-code': 'âœ… Nasz Kod',
        'randomizers': 'âŒ Randomizery',
        'old-codes': 'âš ï¸ Stare Kody',
        'recent-activity': 'ğŸ”¥ Ostatnia AktywnoÅ›Ä‡',
        'updates-every': 'ğŸ”„ Aktualizacje co 30 sekund',
        'get-code': 'Otrzymaj Kod',
        'verified-code': 'Zweryfikowany Kod',
        'randomizer': 'âŒ Randomizer',
        'use-verified-100': 'UÅ¼yj zweryfikowanego kodu (100% sukcesu)'
    },
    ru: {
        'hero-title': 'Ğ ĞµÑ„ĞµÑ€Ğ°Ğ»ÑŒĞ½Ñ‹Ğ¹ ĞšĞ¾Ğ´ Star Citizen ĞĞ¾ÑĞ±Ñ€ÑŒ 2025 âœ… 50,000 UEC Ğ‘ĞµÑĞ¿Ğ»Ğ°Ñ‚Ğ½Ğ¾',
        'hero-subtitle': 'ğŸ® Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞ¹Ñ‚Ğµ Ğ¿Ñ€Ğ¾Ğ¼Ğ¾ĞºĞ¾Ğ´ Ğ´Ğ»Ñ <strong>50,000 UEC</strong> Ğ¼Ğ³Ğ½Ğ¾Ğ²ĞµĞ½Ğ½Ğ¾Ğ³Ğ¾ Ğ±Ğ¾Ğ½ÑƒÑĞ° - ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞµĞ½Ğ¾!',
        'your-code': 'Ğ’Ğ°Ñˆ Ğ ĞµÑ„ĞµÑ€Ğ°Ğ»ÑŒĞ½Ñ‹Ğ¹ ĞšĞ¾Ğ´:',
        'copy': 'ĞšĞ¾Ğ¿Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ ĞšĞ¾Ğ´',
        'signup': 'Ğ ĞµĞ³Ğ¸ÑÑ‚Ñ€Ğ°Ñ†Ğ¸Ñ Ğ² Star Citizen',
        'stats-title': 'ğŸ“Š Ğ¡Ñ‚Ğ°Ñ‚Ğ¸ÑÑ‚Ğ¸ĞºĞ° Ğ² Ğ ĞµĞ°Ğ»ÑŒĞ½Ğ¾Ğ¼ Ğ’Ñ€ĞµĞ¼ĞµĞ½Ğ¸',
        'players-helped': 'Ğ˜Ğ³Ñ€Ğ¾ĞºĞ°Ğ¼ ĞŸĞ¾Ğ¼Ğ¾Ğ³Ğ»Ğ¸',
        'active-codes': 'ĞĞºÑ‚Ğ¸Ğ²Ğ½Ñ‹Ğµ ĞšĞ¾Ğ´Ñ‹',
        'online-now': 'Ğ¡ĞµĞ¹Ñ‡Ğ°Ñ ĞĞ½Ğ»Ğ°Ğ¹Ğ½',
        'trust-rating': 'â­ ĞÑ†ĞµĞ½ĞºĞ° 4.9/5',
        'success-rate': 'âœ… 100% Ğ£ÑĞ¿ĞµÑˆĞ½Ğ¾ÑÑ‚ÑŒ',
        'secure-official': 'ğŸ”’ Ğ‘ĞµĞ·Ğ¾Ğ¿Ğ°ÑĞ½Ğ¾ Ğ¸ ĞÑ„Ğ¸Ñ†Ğ¸Ğ°Ğ»ÑŒĞ½Ğ¾',
        'why-choose': 'ğŸŒŸ ĞŸĞ¾Ñ‡ĞµĞ¼Ñƒ Ğ²Ñ‹Ğ±Ñ€Ğ°Ñ‚ÑŒ STAR-9L66-ZTDY?',
        'daily-verified': 'Ğ•Ğ¶ĞµĞ´Ğ½ĞµĞ²Ğ½Ğ°Ñ Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€ĞºĞ° - ĞĞ¸ĞºĞ¾Ğ³Ğ´Ğ° Ğ¼Ñ‘Ñ€Ñ‚Ğ²Ñ‹Ğ¹ ĞºĞ¾Ğ´',
        'guaranteed-work': '100% Ğ£ÑĞ¿ĞµÑ… - Ğ“Ğ°Ñ€Ğ°Ğ½Ñ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ½Ğ¾ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚',
        'happy-citizens': '3,847+ Ğ”Ğ¾Ğ²Ğ¾Ğ»ÑŒĞ½Ñ‹Ñ… Ğ³Ñ€Ğ°Ğ¶Ğ´Ğ°Ğ½',
        'single-owner': 'ĞĞ´Ğ¸Ğ½ Ğ²Ğ»Ğ°Ğ´ĞµĞ»ĞµÑ† - ĞĞµ ÑĞ»ÑƒÑ‡Ğ°Ğ¹Ğ½Ñ‹Ğ¹ Ğ³ĞµĞ½ĞµÑ€Ğ°Ñ‚Ğ¾Ñ€',
        'better-than': 'âš¡ Ğ›ÑƒÑ‡ÑˆĞµ Ñ€Ğ°Ğ½Ğ´Ğ¾Ğ¼Ğ°Ğ¹Ğ·ĞµÑ€Ğ¾Ğ²: 100% ÑƒÑĞ¿ĞµÑ…Ğ° vs 70% ÑˆĞ°Ğ½Ñ',
        'why-different': 'ğŸ† ĞŸĞ¾Ñ‡ĞµĞ¼Ñƒ Ğ¼Ñ‹ Ğ´Ñ€ÑƒĞ³Ğ¸Ğµ',
        'our-code': 'âœ… ĞĞ°Ñˆ ĞšĞ¾Ğ´',
        'randomizers': 'âŒ Ğ Ğ°Ğ½Ğ´Ğ¾Ğ¼Ğ°Ğ¹Ğ·ĞµÑ€Ñ‹',
        'old-codes': 'âš ï¸ Ğ¡Ñ‚Ğ°Ñ€Ñ‹Ğµ ĞšĞ¾Ğ´Ñ‹',
        'recent-activity': 'ğŸ”¥ ĞŸĞ¾ÑĞ»ĞµĞ´Ğ½ÑÑ ĞĞºÑ‚Ğ¸Ğ²Ğ½Ğ¾ÑÑ‚ÑŒ',
        'updates-every': 'ğŸ”„ ĞĞ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ñ ĞºĞ°Ğ¶Ğ´Ñ‹Ğµ 30 ÑĞµĞºÑƒĞ½Ğ´',
        'get-code': 'ĞŸĞ¾Ğ»ÑƒÑ‡Ğ¸Ñ‚ÑŒ ĞšĞ¾Ğ´',
        'verified-code': 'ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞµĞ½Ğ½Ñ‹Ğ¹ ĞšĞ¾Ğ´',
        'randomizer': 'âŒ Ğ Ğ°Ğ½Ğ´Ğ¾Ğ¼Ğ°Ğ¹Ğ·ĞµÑ€',
        'use-verified-100': 'Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€ĞµĞ½Ğ½Ñ‹Ğ¹ ĞºĞ¾Ğ´ (100% ÑƒÑĞ¿ĞµÑ…)'
    },
    jp: {
        'hero-title': 'ã‚¹ã‚¿ãƒ¼ã‚·ãƒã‚ºãƒ³ç´¹ä»‹ã‚³ãƒ¼ãƒ‰ 2025å¹´11æœˆ âœ… 50,000 UEC ç„¡æ–™',
        'hero-subtitle': 'ğŸ® ãƒ—ãƒ­ãƒ¢ã‚³ãƒ¼ãƒ‰ã‚’ä½¿ç”¨ã—ã¦<strong>50,000 UEC</strong>ã®å³åº§ãƒœãƒ¼ãƒŠã‚¹ - ç¢ºèªæ¸ˆã¿ï¼',
        'your-code': 'ã‚ãªãŸã®ç´¹ä»‹ã‚³ãƒ¼ãƒ‰ï¼š',
        'copy': 'ã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ”ãƒ¼',
        'signup': 'ã‚¹ã‚¿ãƒ¼ã‚·ãƒã‚ºãƒ³ã«ç™»éŒ²',
        'stats-title': 'ğŸ“Š ãƒ©ã‚¤ãƒ–çµ±è¨ˆ',
        'players-helped': 'åŠ©ã‘ãŸãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼',
        'active-codes': 'ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ã‚³ãƒ¼ãƒ‰',
        'online-now': 'ç¾åœ¨ã‚ªãƒ³ãƒ©ã‚¤ãƒ³',
        'trust-rating': 'â­ è©•ä¾¡4.9/5',
        'success-rate': 'âœ… 100%æˆåŠŸç‡',
        'secure-official': 'ğŸ”’ å®‰å…¨ã§å…¬å¼',
        'why-choose': 'ğŸŒŸ ãªãœSTAR-9L66-ZTDYã‚’é¸ã¶ï¼Ÿ',
        'daily-verified': 'æ¯æ—¥æ¤œè¨¼ - ç„¡åŠ¹ãªã‚³ãƒ¼ãƒ‰ã¯ã‚ã‚Šã¾ã›ã‚“',
        'guaranteed-work': '100%æˆåŠŸ - å‹•ä½œä¿è¨¼',
        'happy-citizens': '3,847+ã®æº€è¶³ã—ãŸå¸‚æ°‘',
        'single-owner': 'å˜ä¸€æ‰€æœ‰è€… - ãƒ©ãƒ³ãƒ€ãƒ ã‚¸ã‚§ãƒãƒ¬ãƒ¼ã‚¿ã§ã¯ãªã„',
        'better-than': 'âš¡ ãƒ©ãƒ³ãƒ€ãƒã‚¤ã‚¶ãƒ¼ã‚ˆã‚Šå„ªã‚Œã¦ã„ã‚‹ï¼š100%æˆåŠŸ vs 70%ã®ç¢ºç‡',
        'why-different': 'ğŸ† ãªãœç§ãŸã¡ãŒé•ã†ã®ã‹',
        'our-code': 'âœ… ç§ãŸã¡ã®ã‚³ãƒ¼ãƒ‰',
        'randomizers': 'âŒ ãƒ©ãƒ³ãƒ€ãƒã‚¤ã‚¶ãƒ¼',
        'old-codes': 'âš ï¸ å¤ã„ã‚³ãƒ¼ãƒ‰',
        'recent-activity': 'ğŸ”¥ æœ€è¿‘ã®ã‚¢ã‚¯ãƒ†ã‚£ãƒ“ãƒ†ã‚£',
        'updates-every': 'ğŸ”„ 30ç§’ã”ã¨ã«æ›´æ–°',
        'get-code': 'ã‚³ãƒ¼ãƒ‰ã‚’å–å¾—',
        'verified-code': 'æ¤œè¨¼æ¸ˆã¿ã‚³ãƒ¼ãƒ‰',
        'randomizer': 'âŒ ãƒ©ãƒ³ãƒ€ãƒã‚¤ã‚¶ãƒ¼',
        'use-verified-100': 'æ¤œè¨¼æ¸ˆã¿ã‚³ãƒ¼ãƒ‰ã‚’ä½¿ç”¨ (100%æˆåŠŸ)'
    },
    kr: {
        'hero-title': 'ìŠ¤íƒ€ ì‹œí‹°ì¦Œ ì¶”ì²œ ì½”ë“œ 2025ë…„ 11ì›” âœ… 50,000 UEC ë¬´ë£Œ',
        'hero-subtitle': 'ğŸ® í”„ë¡œëª¨ ì½”ë“œë¥¼ ì‚¬ìš©í•˜ì—¬ <strong>50,000 UEC</strong> ì¦‰ì‹œ ë³´ë„ˆìŠ¤ - í™•ì¸ë¨!',
        'your-code': 'ì¶”ì²œ ì½”ë“œ:',
        'copy': 'ì½”ë“œ ë³µì‚¬',
        'signup': 'ìŠ¤íƒ€ ì‹œí‹°ì¦Œ ê°€ì…',
        'stats-title': 'ğŸ“Š ì‹¤ì‹œê°„ í†µê³„',
        'players-helped': 'ë„ì›€ë°›ì€ í”Œë ˆì´ì–´',
        'active-codes': 'í™œì„± ì½”ë“œ',
        'online-now': 'í˜„ì¬ ì˜¨ë¼ì¸',
        'trust-rating': 'â­ í‰ì  4.9/5',
        'success-rate': 'âœ… 100% ì„±ê³µë¥ ',
        'secure-official': 'ğŸ”’ ì•ˆì „í•˜ê³  ê³µì‹ì ',
        'why-choose': 'ğŸŒŸ ì™œ STAR-9L66-ZTDYë¥¼ ì„ íƒí•´ì•¼ í•˜ë‚˜ìš”?',
        'daily-verified': 'ë§¤ì¼ ê²€ì¦ - ì£½ì€ ì½”ë“œ ì—†ìŒ',
        'guaranteed-work': '100% ì„±ê³µ - ì‘ë™ ë³´ì¥',
        'happy-citizens': '3,847+ í–‰ë³µí•œ ì‹œë¯¼ë“¤',
        'single-owner': 'ë‹¨ì¼ ì†Œìœ ì - ëœë¤ ìƒì„±ê¸°ê°€ ì•„ë‹˜',
        'better-than': 'âš¡ ëœë¤ë¼ì´ì €ë³´ë‹¤ ë‚«ë‹¤: 100% ì„±ê³µ vs 70% í™•ë¥ ',
        'why-different': 'ğŸ† ì™œ ìš°ë¦¬ê°€ ë‹¤ë¥¸ê°€',
        'our-code': 'âœ… ìš°ë¦¬ ì½”ë“œ',
        'randomizers': 'âŒ ëœë¤ë¼ì´ì €',
        'old-codes': 'âš ï¸ ì˜¤ë˜ëœ ì½”ë“œ',
        'recent-activity': 'ğŸ”¥ ìµœê·¼ í™œë™',
        'updates-every': 'ğŸ”„ 30ì´ˆë§ˆë‹¤ ì—…ë°ì´íŠ¸',
        'get-code': 'ì½”ë“œ ë°›ê¸°',
        'verified-code': 'ê²€ì¦ëœ ì½”ë“œ',
        'randomizer': 'âŒ ëœë¤ë¼ì´ì €',
        'use-verified-100': 'ê²€ì¦ëœ ì½”ë“œ ì‚¬ìš© (100% ì„±ê³µ)'
    },
    cn: {
        'hero-title': 'æ˜Ÿé™…å…¬æ°‘æ¨èä»£ç  2025å¹´11æœˆ âœ… å…è´¹50,000 UEC',
        'hero-subtitle': 'ğŸ® ä½¿ç”¨ä¿ƒé”€ä»£ç è·å¾—<strong>50,000 UEC</strong>å³æ—¶å¥–é‡‘ - å·²éªŒè¯ï¼',
        'your-code': 'æ‚¨çš„æ¨èä»£ç ï¼š',
        'copy': 'å¤åˆ¶ä»£ç ',
        'signup': 'æ³¨å†Œæ˜Ÿé™…å…¬æ°‘',
        'stats-title': 'ğŸ“Š å®æ—¶ç»Ÿè®¡',
        'players-helped': 'å·²å¸®åŠ©ç©å®¶',
        'active-codes': 'æ´»è·ƒä»£ç ',
        'online-now': 'å½“å‰åœ¨çº¿',
        'trust-rating': 'â­ è¯„åˆ† 4.9/5',
        'success-rate': 'âœ… 100% æˆåŠŸç‡',
        'secure-official': 'ğŸ”’ å®‰å…¨ä¸”å®˜æ–¹',
        'why-choose': 'ğŸŒŸ ä¸ºä»€ä¹ˆé€‰æ‹© STAR-9L66-ZTDYï¼Ÿ',
        'daily-verified': 'æ¯æ—¥éªŒè¯ - æ°¸ä¸å¤±æ•ˆ',
        'guaranteed-work': '100% æˆåŠŸ - ä¿è¯æœ‰æ•ˆ',
        'happy-citizens': '3,847+ æ»¡æ„çš„å¸‚æ°‘',
        'single-owner': 'å•ä¸€æ‹¥æœ‰è€… - ééšæœºç”Ÿæˆå™¨',
        'better-than': 'âš¡ ä¼˜äºéšæœºå™¨ï¼š100% æˆåŠŸ vs 70% æœºç‡',
        'why-different': 'ğŸ† ä¸ºä»€ä¹ˆæˆ‘ä»¬ä¸åŒ',
        'our-code': 'âœ… æˆ‘ä»¬çš„ä»£ç ',
        'randomizers': 'âŒ éšæœºå™¨',
        'old-codes': 'âš ï¸ æ—§ä»£ç ',
        'recent-activity': 'ğŸ”¥ æœ€è¿‘æ´»åŠ¨',
        'updates-every': 'ğŸ”„ æ¯30ç§’æ›´æ–°',
        'get-code': 'è·å–ä»£ç ',
        'verified-code': 'å·²éªŒè¯ä»£ç ',
        'randomizer': 'âŒ éšæœºå™¨',
        'use-verified-100': 'ä½¿ç”¨å·²éªŒè¯ä»£ç  (100%æˆåŠŸ)'
    }
};

// Language detection function
function detectUserLanguage() {
    // Check if user has already set a language preference
    const savedLanguage = localStorage.getItem('language');
    if (savedLanguage) {
        return savedLanguage;
    }

    // Language mapping for browser language codes to our supported languages
    const languageMap = {
        'en': 'en', 'en-US': 'en', 'en-GB': 'en', 'en-AU': 'en', 'en-CA': 'en',
        'de': 'de', 'de-DE': 'de', 'de-AT': 'de', 'de-CH': 'de',
        'fr': 'fr', 'fr-FR': 'fr', 'fr-CA': 'fr', 'fr-BE': 'fr', 'fr-CH': 'fr',
        'es': 'es', 'es-ES': 'es', 'es-MX': 'es', 'es-AR': 'es', 'es-CO': 'es',
        'pt': 'pt', 'pt-BR': 'pt', 'pt-PT': 'pt',
        'it': 'it', 'it-IT': 'it', 'it-CH': 'it',
        'pl': 'pl', 'pl-PL': 'pl',
        'ru': 'ru', 'ru-RU': 'ru',
        'ja': 'jp', 'ja-JP': 'jp', // Note: we use 'jp' as the key
        'ko': 'kr', 'ko-KR': 'kr', // Note: we use 'kr' as the key
        'zh': 'cn', 'zh-CN': 'cn', 'zh-TW': 'cn', 'zh-HK': 'cn' // Note: we use 'cn' as the key
    };

    // Try to get browser language
    const browserLang = navigator.language || navigator.userLanguage;

    // Check for exact match first
    if (languageMap[browserLang]) {
        return languageMap[browserLang];
    }

    // Check for language code without region (e.g., 'en' from 'en-US')
    const langCode = browserLang.split('-')[0];
    if (languageMap[langCode]) {
        return languageMap[langCode];
    }

    // Check navigator.languages array for any supported language
    if (navigator.languages && navigator.languages.length) {
        for (const lang of navigator.languages) {
            if (languageMap[lang]) {
                return languageMap[lang];
            }
            // Also check without region code
            const code = lang.split('-')[0];
            if (languageMap[code]) {
                return languageMap[code];
            }
        }
    }

    // Default to English if no match found
    return 'en';
}

// State management
let currentTheme = localStorage.getItem('theme') || 'dark';
let currentLanguage = localStorage.getItem('language') || detectUserLanguage();
let currentCode = localStorage.getItem('lastCode') || getRandomCode();

// Initialize
document.addEventListener('DOMContentLoaded', function() {
    // Auto-detect and set language if first visit
    if (!localStorage.getItem('language')) {
        currentLanguage = detectUserLanguage();
        // Show a brief notification about auto-detected language
        const langNames = {
            'en': 'English', 'de': 'Deutsch', 'fr': 'FranÃ§ais', 'es': 'EspaÃ±ol',
            'pt': 'PortuguÃªs', 'it': 'Italiano', 'pl': 'Polski', 'ru': 'Ğ ÑƒÑÑĞºĞ¸Ğ¹',
            'jp': 'æ—¥æœ¬èª', 'kr': 'í•œêµ­ì–´', 'cn': 'ä¸­æ–‡'
        };
        console.log(`Auto-detected language: ${langNames[currentLanguage] || 'English'}`);

        // Optional: Show a toast notification for first-time visitors
        setTimeout(() => {
            if (currentLanguage !== 'en') {
                showToast(`Language set to ${langNames[currentLanguage]}`, 'info');
            }
        }, 1000);
    }

    // Set initial state
    updateCode(currentCode);
    setTheme(currentTheme);
    setLanguage(currentLanguage);

    // Initialize stats
    initializeStats();

    // Event listeners
    document.getElementById('copy-btn').addEventListener('click', copyCode);
    document.getElementById('copy-url-btn').addEventListener('click', copyURL);
    document.getElementById('theme-toggle').addEventListener('click', toggleTheme);
    document.getElementById('language-select').addEventListener('change', changeLanguage);

    // Update enlist link
    updateEnlistLink();

    // Update stats periodically (every 15 minutes = 900000ms)
    setInterval(updateStats, 900000); // Update every 15 minutes

    // Start countdown timer
    startCountdown();

    // Initialize live elements
    updateLiveElements();
    updateActiveUsers();

    // Update live elements periodically
    setInterval(updateLiveElements, 60000); // Every minute
    setInterval(updateActiveUsers, 30000); // Every 30 seconds

    // Start activity feed
    startActivityFeed();
    initActivityFeed();

    // Start floating notifications
    startFloatingNotifications();
});

// Get code (always returns your code now)
function getRandomCode() {
    return YOUR_REFERRAL_CODE;
}

// Update displayed code
function updateCode(code) {
    currentCode = code;
    document.getElementById('referral-code').value = code;
    localStorage.setItem('lastCode', code);
    updateEnlistLink();
}

// Update enlist link
function updateEnlistLink() {
    const enlistLink = document.getElementById('enlist-link');
    enlistLink.href = `https://robertsspaceindustries.com/enlist?referral=${currentCode}`;
}

// Generate new code
function generateNewCode() {
    const button = document.getElementById('generate-btn');
    button.disabled = true;
    button.innerHTML = '<span class="loading"></span> Generating...';

    // Simulate API delay for realism
    setTimeout(() => {
        const newCode = getRandomCode();
        updateCode(newCode);

        // Animate the change
        const codeInput = document.getElementById('referral-code');
        codeInput.style.animation = 'none';
        setTimeout(() => {
            codeInput.style.animation = 'glow 2s ease-in-out';
        }, 10);

        button.disabled = false;
        button.innerHTML = '<span>ğŸ²</span> Get Different Code';

        showToast('New code generated!', 'success');
    }, 500);
}

// Copy URL to clipboard
async function copyURL() {
    const url = document.getElementById('full-url').value;
    const button = document.getElementById('copy-url-btn');

    try {
        await navigator.clipboard.writeText(url);
        button.classList.add('copied');
        const originalHTML = button.innerHTML;
        button.innerHTML = '<span class="copy-url-icon">âœ“</span><span class="copy-url-text">Copied!</span>';

        showToast('Link copied to clipboard!', 'success');

        setTimeout(() => {
            button.classList.remove('copied');
            button.innerHTML = originalHTML;
        }, 2000);
    } catch (err) {
        showToast('Failed to copy link', 'error');
    }
}

// Copy code to clipboard
async function copyCode() {
    const code = currentCode;
    const button = document.getElementById('copy-btn');

    try {
        await navigator.clipboard.writeText(code);
        button.classList.add('copied');
        button.innerHTML = '<span>âœ“</span> Copied!';

        showToast('Code copied to clipboard!', 'success');

        setTimeout(() => {
            button.classList.remove('copied');
            button.innerHTML = '<span class="copy-icon">ğŸ“‹</span><span class="copy-text">Copy Code</span>';
        }, 2000);
    } catch (err) {
        showToast('Failed to copy code', 'error');
    }
}

// Toggle theme
function toggleTheme() {
    currentTheme = currentTheme === 'dark' ? 'light' : 'dark';
    setTheme(currentTheme);
}

// Set theme
function setTheme(theme) {
    document.body.setAttribute('data-theme', theme);
    localStorage.setItem('theme', theme);
    document.getElementById('theme-toggle').textContent = theme === 'dark' ? 'ğŸŒ™' : 'â˜€ï¸';
}

// Change language
function changeLanguage(e) {
    setLanguage(e.target.value);
}

// Set language
function setLanguage(lang) {
    currentLanguage = lang;
    localStorage.setItem('language', lang);

    // Update the language selector if it exists
    const langSelect = document.getElementById('language-select');
    if (langSelect) {
        langSelect.value = lang;
    }

    // Update HTML lang attribute for better accessibility and SEO
    document.documentElement.lang = lang === 'jp' ? 'ja' : (lang === 'kr' ? 'ko' : (lang === 'cn' ? 'zh' : lang));

    // Update all translatable elements
    document.querySelectorAll('[data-i18n]').forEach(element => {
        const key = element.getAttribute('data-i18n');
        if (translations[lang] && translations[lang][key]) {
            element.innerHTML = translations[lang][key];
        } else if (translations['en'][key]) {
            element.innerHTML = translations['en'][key];
        }
    });
}


// Show toast notification
function showToast(message, type = 'info') {
    const existingToast = document.querySelector('.toast');
    if (existingToast) {
        existingToast.remove();
    }

    const toast = document.createElement('div');
    toast.className = `toast ${type}`;
    toast.textContent = message;
    document.body.appendChild(toast);

    setTimeout(() => {
        toast.style.animation = 'slideOut 0.3s ease';
        setTimeout(() => toast.remove(), 300);
    }, 3000);
}

// Add slideOut animation
const style = document.createElement('style');
style.textContent = `
    @keyframes slideOut {
        to {
            transform: translateX(100%);
            opacity: 0;
        }
    }
`;
document.head.appendChild(style);

// Track page views (for analytics)
if (typeof gtag !== 'undefined') {
    gtag('event', 'page_view', {
        page_title: 'Star Citizen Referral Code Generator',
        page_location: window.location.href
    });
}

// Initialize stats with high but realistic numbers
function initializeStats() {
    // Get or set initial values (high numbers for credibility)
    const baseUsers = parseInt(localStorage.getItem('totalUsers') || '3847');
    const baseCodes = parseInt(localStorage.getItem('activeCodes') || '428');

    // Set initial display
    document.getElementById('total-users').textContent = baseUsers.toLocaleString();
    document.getElementById('active-codes').textContent = baseCodes;
    updateOnlineUsers();
}

// Update stats dynamically
function updateStats() {
    // Increment by 1 every 15 minutes (96 per day)
    const totalUsersEl = document.getElementById('total-users');
    const currentUsers = parseInt(totalUsersEl.textContent.replace(/,/g, ''));
    const newUsers = currentUsers + 1;

    totalUsersEl.textContent = newUsers.toLocaleString();
    localStorage.setItem('totalUsers', newUsers.toString());

    // Animate the change
    totalUsersEl.style.color = '#4caf50';
    setTimeout(() => {
        totalUsersEl.style.color = 'var(--primary-color)';
    }, 500);

    // Update online users
    updateOnlineUsers();

    // Occasionally update active codes
    if (Math.random() > 0.9) {
        const activeCodesEl = document.getElementById('active-codes');
        const currentCodes = parseInt(activeCodesEl.textContent);
        const newCodes = currentCodes + (Math.random() > 0.5 ? 1 : -1);
        if (newCodes > 400 && newCodes < 450) {
            activeCodesEl.textContent = newCodes;
            localStorage.setItem('activeCodes', newCodes.toString());
        }
    }
}

// Update online users (realistic daily pattern)
function updateOnlineUsers() {
    const hour = new Date().getHours();
    let baseOnline = 30;

    // Simulate daily traffic patterns
    if (hour >= 19 && hour <= 23) baseOnline = 60; // Peak evening
    else if (hour >= 14 && hour <= 18) baseOnline = 45; // Afternoon
    else if (hour >= 0 && hour <= 6) baseOnline = 15; // Night

    // Add some randomness
    const variance = Math.floor(Math.random() * 20) - 10;
    const onlineNow = Math.max(5, baseOnline + variance);

    document.getElementById('online-now').textContent = onlineNow;
}

// Countdown Timer
function startCountdown() {
    // Set end of month
    const now = new Date();
    const endOfMonth = new Date(now.getFullYear(), now.getMonth() + 1, 0, 23, 59, 59);

    function updateCountdown() {
        const now = new Date();
        const distance = endOfMonth - now;

        if (distance > 0) {
            const days = Math.floor(distance / (1000 * 60 * 60 * 24));
            const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((distance % (1000 * 60)) / 1000);

            document.getElementById('days').textContent = days;
            document.getElementById('hours').textContent = hours;
            document.getElementById('minutes').textContent = minutes;
            document.getElementById('seconds').textContent = seconds;
        }
    }

    updateCountdown();
    setInterval(updateCountdown, 1000);
}

// Activity Feed
function startActivityFeed() {
    const countries = ['USA', 'UK', 'Canada', 'Australia', 'Germany', 'France', 'Japan', 'Brazil'];
    const actions = [
        'just used code',
        'claimed bonus',
        'got 50,000 UEC',
        'joined with code',
        'redeemed referral'
    ];

    function addActivity() {
        const country = countries[Math.floor(Math.random() * countries.length)];
        const action = actions[Math.floor(Math.random() * actions.length)];
        const timeAgo = Math.floor(Math.random() * 60) + 1;

        const activityList = document.getElementById('activity-list');
        const newItem = document.createElement('div');
        newItem.className = 'activity-item';
        newItem.textContent = `Someone from ${country} ${action} ${timeAgo}s ago`;

        // Add to top of list
        activityList.insertBefore(newItem, activityList.firstChild);

        // Keep only last 3 items
        while (activityList.children.length > 3) {
            activityList.removeChild(activityList.lastChild);
        }
    }

    // Add initial activities
    addActivity();
    setTimeout(addActivity, 2000);
    setTimeout(addActivity, 4000);

    // Add new activity every 10-30 seconds
    setInterval(() => {
        if (Math.random() > 0.5) {
            addActivity();
        }
    }, 15000);
}

// Floating Notifications
function startFloatingNotifications() {
    const countries = ['USA', 'UK', 'Canada', 'Germany', 'Australia', 'France', 'Japan', 'South Korea', 'Netherlands', 'Sweden'];

    function showNotification() {
        const notification = document.getElementById('floating-notification');
        const countrySpan = document.getElementById('notification-country');

        const country = countries[Math.floor(Math.random() * countries.length)];
        countrySpan.textContent = country;

        notification.style.display = 'block';
        notification.style.animation = 'floatIn 0.5s ease forwards';

        setTimeout(() => {
            notification.style.animation = 'floatOut 0.5s ease forwards';
            setTimeout(() => {
                notification.style.display = 'none';
            }, 500);
        }, 4000);
    }

    // Show first notification after 10 seconds
    setTimeout(showNotification, 10000);

    // Show notification every 45-90 seconds
    setInterval(() => {
        if (Math.random() > 0.3) {
            showNotification();
        }
    }, 60000);
}

// Live Elements Updates
function updateLiveElements() {
    // Update live date
    const now = new Date();
    const options = { month: 'long', day: 'numeric', year: 'numeric', hour: 'numeric', minute: 'numeric' };
    const liveDate = document.getElementById('live-date');
    if (liveDate) {
        liveDate.textContent = now.toLocaleDateString('en-US', options);
    }

    // Update minutes ago (random between 1-5)
    const minutesAgo = document.getElementById('minutes-ago');
    if (minutesAgo) {
        minutesAgo.textContent = Math.floor(Math.random() * 5) + 1;
    }
}

// Update active users more realistically
function updateActiveUsers() {
    const activeUsers = document.getElementById('active-users');
    const onlineNow = document.getElementById('online-now');

    if (activeUsers || onlineNow) {
        const hour = new Date().getHours();
        let base = 30;

        // Peak times
        if (hour >= 19 && hour <= 23) base = 70; // Evening peak
        else if (hour >= 14 && hour <= 18) base = 50; // Afternoon
        else if (hour >= 0 && hour <= 6) base = 15; // Night

        // Add variance
        const variance = Math.floor(Math.random() * 20) - 10;
        const count = Math.max(10, base + variance);

        if (activeUsers) activeUsers.textContent = count;
        if (onlineNow) onlineNow.textContent = count;
    }
}

// Activity feed data
const activityTemplates = [
    { icon: 'âœ…', text: 'New citizen from {location} used code', location: true },
    { icon: 'ğŸŠ•', text: 'Code verified working - {time}', time: true },
    { icon: 'ğŸš€', text: 'Player from {location} joined the verse', location: true },
    { icon: 'ğŸ’°', text: '50,000 UEC bonus claimed', time: true },
    { icon: 'â­', text: 'New 5-star review received', time: true },
    { icon: 'ğŸ†', text: 'Code tested successfully', time: true },
    { icon: 'ğŸ‘¥', text: '{count} players online now', count: true },
    { icon: 'ğŸ¯', text: '100% success rate maintained', time: true }
];

const locations = ['USA', 'UK', 'Germany', 'Canada', 'Australia', 'France', 'Netherlands', 'Sweden', 'Norway', 'Denmark'];

function generateActivityItem() {
    const template = activityTemplates[Math.floor(Math.random() * activityTemplates.length)];
    let text = template.text;

    if (template.location) {
        text = text.replace('{location}', locations[Math.floor(Math.random() * locations.length)]);
    }
    if (template.time) {
        const mins = Math.floor(Math.random() * 30) + 1;
        text = text.replace('{time}', mins === 1 ? '1 minute ago' : `${mins} minutes ago`);
    }
    if (template.count) {
        const count = Math.floor(Math.random() * 30) + 20;
        text = text.replace('{count}', count);
    }

    const now = new Date();
    const timeAgo = Math.floor(Math.random() * 60);
    const timestamp = timeAgo === 0 ? 'just now' : timeAgo === 1 ? '1 min ago' : `${timeAgo} mins ago`;

    return `
        <div style="display: flex; align-items: center; gap: 1rem; padding: 0.75rem; background: rgba(255, 255, 255, 0.05); border-radius: 8px; animation: slideIn 0.5s ease-out;">
            <span style="font-size: 1.5rem;">${template.icon}</span>
            <div style="flex: 1;">
                <div>${text}</div>
                <small style="color: var(--text-secondary);">${timestamp}</small>
            </div>
        </div>
    `;
}

function updateActivityFeed() {
    const feed = document.getElementById('activity-feed');
    if (!feed) return;

    // Add new activity item at the top
    const newItem = document.createElement('div');
    newItem.innerHTML = generateActivityItem();
    feed.insertBefore(newItem.firstElementChild, feed.firstChild);

    // Remove old items if more than 10
    while (feed.children.length > 10) {
        feed.removeChild(feed.lastChild);
    }
}

// Initialize activity feed
function initActivityFeed() {
    const feed = document.getElementById('activity-feed');
    if (!feed) return;

    // Add initial items
    for (let i = 0; i < 5; i++) {
        feed.innerHTML += generateActivityItem();
    }

    // Update every 30 seconds
    setInterval(updateActivityFeed, 30000);
}

// Service Worker registration disabled for now
// Uncomment when ready to implement offline functionality
// if ('serviceWorker' in navigator) {
//     navigator.serviceWorker.register('/sw.js').catch(err => {
//         console.log('Service Worker registration failed:', err);
//     });
// }